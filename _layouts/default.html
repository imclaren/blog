<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  {% include head.html %}

  <body>


    <div id="search-demo-container">
      <input type="text" id="search-input" placeholder="search...">
      <ul id="results-container"></ul>
    </div>

    <script src="{{ site.baseurl }}/jekyll-search.js" type="text/javascript"></script>
    
    <script type="text/javascript">
      SimpleJekyllSearch.init({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        dataSource: '{{ site.baseurl }}/search.json',
        searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: false,
      })
    </script>


    {% include sidebar.html %}

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">

      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">

            <!--[if lt IE 9 ]>
            <div class="navbar navbar-fixed-top">
              <div class="navbar-inner">
                <div class="container-fluid">
                  <ul class="nav pull-left">
                    <li class="brand">
                      <![endif]--> 
                      <a href="/" title="Home">{{ site.title }}</a>
                      <!-- <small>{{ site.tagline }}</small> -->
                      <!--[if lt IE 9 ]>
                    </li>
                  </ul>

                  <ul class="nav pull-right">
                    {% if pages_list != null %}
                      <li class="nav-header"></li>
                    {% endif %}
                    {% assign pages_list = site.pages %}
                    {% for node in pages_list %}
                      {% if node.title != null %}
                        {% if node.layout == "page" %}
                          <li class="nav-header"><a href="{{ node.url }}">{{ node.title }}</a></li>
                        {% endif %}
                      {% endif %}
                    {% endfor %}
                    <li class="nav-header"><a href="https://files.iainmclaren.com">Secure Portal</a></li>
                    <li class="nav-header"><a href="http://linkedin.com/in/iainmclaren">About</a></li>
                    <li class="divider"></li>
                    <li class="nav-header"><a href="mailto:admin@iainmclaren.com">admin@iainmclaren.com</a></li>
                  </ul>

                </div>
              </div>
            </div>
            <![endif]--> 
          </h3>
        </div>
      </div>

      <!--[if lt IE 9 ]>
      <ul class="breadcrumb"></ul>
      <![endif]--> 

      <div class="container content">
        <!--[if lt IE 9 ]><div class="well"><![endif]--> 
          {{ content }}   
        <!--[if lt IE 9 ]></div><![endif]--> 
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
